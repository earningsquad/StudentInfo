<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=emulateIE7" />
<link rel="stylesheet" type="text/css" href="/Teacher/css/style.css" />
<link rel="stylesheet" type="text/css" href="/Teacher/css/skin_/login.css" />
<script type="text/javascript" src="/Teacher/js/jquery.js"></script>
<script type="text/javascript" src="/Teacher/js/jquery.select.js"></script>
<title>教师信息管理系统</title>
</head>

<body>
<div id="container">
    <div id="bd">
    	<div id="main">
        	<div class="login-box">
                <div id="logo"></div>
                <h1></h1>
                <form action="">
                <div class="input username">
                    <label for="userName">用户名</label>
                    <span></span>
                    <input type="text" id="userName" name="userName" />
                </div>
                <div class="input psw" id="psw">
                    <label for="password">密&nbsp;&nbsp;&nbsp;&nbsp;码</label>
                    <span></span>
                    <input type="password" id="password" name="password"/>
                </div>
           
                
                <div id="btn" class="loginButton" style="">
                    <input type="button" class="button" value="登录"  />
                </div>
                </form>
                    </div>
        </div>
        <div id="ft">C</div>
    </div>
   
</div>

</body>
<script type="text/javascript">
	var height = $(window).height() > 445 ? $(window).height() : 445;
	$("#container").height(height);
	var bdheight = ($(window).height() - $('#bd').height()) / 2 - 20;
	$('#bd').css('padding-top', bdheight);
	$(window).resize(function(e) {
        var height = $(window).height() > 445 ? $(window).height() : 445;
		$("#container").height(height);
		var bdheight = ($(window).height() - $('#bd').height()) / 2 - 20;
		$('#bd').css('padding-top', bdheight);
    });
	$('select').select();
    $.fn.serializeObject = function() {
        var o = {};
        var a = this.serializeArray();
        $.each(a, function() {
            if (o[this.name]) {
                if (!o[this.name].push) {
                    o[this.name] = [ o[this.name] ];
                }
                o[this.name].push(this.value || '');
            } else {
                o[this.name] = this.value || '';
            }
        });
        return o;
    }
    function login() {
        var params = $("form").serializeObject();
        $.ajax({
            url : "http://localhost:8080/login",
            type : "POST",
            data : JSON.stringify(params),
            contentType : "application/json",
            success : function(result) {
                if(result.isSuccess==true) {
                    document.location.href = "/Teacher/main.html";
                }else{
                    alert("用户名或密码错误，请重新输入")

                }
            },
            error:function(msg){
                alert(msg.message)
            }
        })

    }


    $('.loginButton').click(function(e) {
      login()
    });
</script>

</html>
